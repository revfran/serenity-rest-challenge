{"name":"Authentication is not successful with invalid token","id":"oauth2-requests-to-twitter-api;authentication-is-not-successful-with-invalid-token","testSteps":[{"number":1,"description":"Example: {ApiVersion\u003dv1.1, TweetID\u003d1319902909635715072, Token\u003dInvalid_token, UnauthorisedStatusCode\u003d401, ResponseParam\u003derrors[0].message, UnauthorisedErrorTitle\u003dInvalid or expired token.}","duration":503,"startTime":"2020-10-25T01:27:54.092+02:00[Europe/Paris]","result":"SUCCESS","precondition":false,"level":0,"lineNumber":26,"children":[{"number":2,"description":"Given a configured token","duration":23,"startTime":"2020-10-25T01:27:54.095+02:00[Europe/Paris]","result":"SUCCESS","precondition":false,"level":1},{"number":3,"description":"When a \"v1.1\" request to get tweet \"1319902909635715072\" is done with token \"Invalid_token\"","duration":427,"startTime":"2020-10-25T01:27:54.123+02:00[Europe/Paris]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":4,"description":"GET https://api.twitter.com/1.1/statuses/show.json?id\u003d1319902909635715072\r","duration":0,"startTime":"2020-10-25T01:27:54.547+02:00[Europe/Paris]","result":"SUCCESS","restQuery":{"method":"GET","path":"https://api.twitter.com/1.1/statuses/show.json?id\u003d1319902909635715072\r","content":"\r","contentType":"application/json","requestHeaders":"Authorization\u003dBearer Invalid_token\r\n\t\t\t\tAccept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r","requestCookies":"\r","responseHeaders":"cache-control: no-cache, no-store, max-age\u003d0\r\ncontent-encoding: gzip\r\ncontent-length: 87\r\ncontent-type: application/json; charset\u003dutf-8\r\ndate: Sat, 24 Oct 2020 23:27:52 GMT\r\nserver: tsa_f\r\nset-cookie: personalization_id\u003d\"v1_/JgssRUIdVpm/09KQ0ZV6Q\u003d\u003d\"; Max-Age\u003d63072000; Expires\u003dMon, 24 Oct 2022 23:27:52 GMT; Path\u003d/; Domain\u003d.twitter.com; Secure; SameSite\u003dNone\r\nset-cookie: guest_id\u003dv1%3A160358207252149575; Max-Age\u003d63072000; Expires\u003dMon, 24 Oct 2022 23:27:52 GMT; Path\u003d/; Domain\u003d.twitter.com; Secure; SameSite\u003dNone\r\nstrict-transport-security: max-age\u003d631138519\r\nx-connection-hash: 8e12eea0cc08b63ef2b8ecaa580e73ac\r\nx-response-time: 112\r","responseCookies":"personalization_id\u003d\"v1_/JgssRUIdVpm/09KQ0ZV6Q\u003d\u003d\";Path\u003d/;Domain\u003d.twitter.com;Max-Age\u003d63072000;Secure;Expires\u003d24/10/22 23:27\nguest_id\u003dv1%3A160358207252149575;Path\u003d/;Domain\u003d.twitter.com;Max-Age\u003d63072000;Secure;Expires\u003d24/10/22 23:27\r","responseBody":"{\n    \"errors\": [\n        {\n            \"code\": 89,\n            \"message\": \"Invalid or expired token.\"\n        }\n    ]\n}","statusCode":401},"precondition":false,"level":2}]},{"number":5,"description":"Then status code is 401","duration":4,"startTime":"2020-10-25T01:27:54.553+02:00[Europe/Paris]","result":"SUCCESS","precondition":false,"level":1},{"number":6,"description":"And response body contains param \"errors[0].message\" with value \"Invalid or expired token.\"","duration":35,"startTime":"2020-10-25T01:27:54.559+02:00[Europe/Paris]","result":"SUCCESS","precondition":false,"level":1}]},{"number":7,"description":"Example: {ApiVersion\u003dv2, TweetID\u003d1319902909635715072, Token\u003dInvalid_token, UnauthorisedStatusCode\u003d401, ResponseParam\u003dtitle, UnauthorisedErrorTitle\u003dUnauthorized}","duration":486,"startTime":"2020-10-25T01:27:54.601+02:00[Europe/Paris]","result":"SUCCESS","precondition":false,"level":0,"lineNumber":27,"children":[{"number":8,"description":"Given a configured token","duration":10,"startTime":"2020-10-25T01:27:54.603+02:00[Europe/Paris]","result":"SUCCESS","precondition":false,"level":1},{"number":9,"description":"When a \"v2\" request to get tweet \"1319902909635715072\" is done with token \"Invalid_token\"","duration":442,"startTime":"2020-10-25T01:27:54.615+02:00[Europe/Paris]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":10,"description":"GET https://api.twitter.com/2/tweets/1319902909635715072\r","duration":0,"startTime":"2020-10-25T01:27:55.054+02:00[Europe/Paris]","result":"SUCCESS","restQuery":{"method":"GET","path":"https://api.twitter.com/2/tweets/1319902909635715072\r","content":"\r","contentType":"application/json","requestHeaders":"Authorization\u003dBearer Invalid_token\r\n\t\t\t\tAccept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r","requestCookies":"\r","responseHeaders":"cache-control: no-cache, no-store, max-age\u003d0\r\ncontent-disposition: attachment; filename\u003djson.json\r\ncontent-encoding: gzip\r\ncontent-length: 91\r\ncontent-type: application/json; charset\u003dutf-8\r\ndate: Sat, 24 Oct 2020 23:27:53 GMT\r\nserver: tsa_f\r\nset-cookie: personalization_id\u003d\"v1_RIG9cg0sVF0n9KVeZCgZjg\u003d\u003d\"; Max-Age\u003d63072000; Expires\u003dMon, 24 Oct 2022 23:27:53 GMT; Path\u003d/; Domain\u003d.twitter.com; Secure; SameSite\u003dNone\r\nset-cookie: guest_id\u003dv1%3A160358207299986597; Max-Age\u003d63072000; Expires\u003dMon, 24 Oct 2022 23:27:53 GMT; Path\u003d/; Domain\u003d.twitter.com; Secure; SameSite\u003dNone\r\nstrict-transport-security: max-age\u003d631138519\r\nx-connection-hash: d260da8d94250535aa8a44418db6d72a\r\nx-content-type-options: nosniff\r\nx-frame-options: SAMEORIGIN\r\nx-response-time: 120\r\nx-xss-protection: 0\r","responseCookies":"personalization_id\u003d\"v1_RIG9cg0sVF0n9KVeZCgZjg\u003d\u003d\";Path\u003d/;Domain\u003d.twitter.com;Max-Age\u003d63072000;Secure;Expires\u003d24/10/22 23:27\nguest_id\u003dv1%3A160358207299986597;Path\u003d/;Domain\u003d.twitter.com;Max-Age\u003d63072000;Secure;Expires\u003d24/10/22 23:27\r","responseBody":"{\n    \"title\": \"Unauthorized\",\n    \"type\": \"about:blank\",\n    \"status\": 401,\n    \"detail\": \"Unauthorized\"\n}","statusCode":401},"precondition":false,"level":2}]},{"number":11,"description":"Then status code is 401","duration":3,"startTime":"2020-10-25T01:27:55.058+02:00[Europe/Paris]","result":"SUCCESS","precondition":false,"level":1},{"number":12,"description":"And response body contains param \"title\" with value \"Unauthorized\"","duration":24,"startTime":"2020-10-25T01:27:55.062+02:00[Europe/Paris]","result":"SUCCESS","precondition":false,"level":1}]}],"userStory":{"id":"oauth2-requests-to-twitter-api","storyName":"oauth2 requests to twitter API","path":"file:///C:/Users/revfran/IdeaProjects/test-serenity/serenity-rest-challenge/src/test/resources/features/twitter/auth/oauth2.feature","type":"feature"},"featureTag":{"name":"Auth/oauth2 requests to twitter API","type":"feature","displayName":"Auth/oauth2 requests to twitter API"},"title":"Authentication is not successful with invalid token","description":"","backgroundTitle":"","backgroundDescription":"","tags":[{"name":"Twitter","type":"theme","displayName":"Twitter"},{"name":"twitter_auth","type":"tag","displayName":"twitter_auth"},{"name":"Auth/oauth2 requests to twitter API","type":"feature","displayName":"oauth2 requests to twitter API"},{"name":"Twitter/Auth","type":"capability","displayName":"Auth"},{"name":"smoke","type":"tag","displayName":"smoke"},{"name":"functional","type":"tag","displayName":"functional"},{"name":"002","type":"twitter_auth","displayName":"002"}],"startTime":"2020-10-25T01:27:54.087+02:00[Europe/Paris]","duration":1001,"projectKey":"","isManualTestingUpToDate":false,"dataTable":{"headers":["ApiVersion","TweetID","Token","UnauthorisedStatusCode","ResponseParam","UnauthorisedErrorTitle"],"rows":[{"values":["v1.1","1319902909635715072","Invalid_token","401","errors[0].message","Invalid or expired token."],"lineNumber":26,"result":"SUCCESS"},{"values":["v2","1319902909635715072","Invalid_token","401","title","Unauthorized"],"lineNumber":27,"result":"SUCCESS"}],"predefinedRows":true,"scenarioOutline":"When a \"\u003cApiVersion\u003e\" request to get tweet \"\u003cTweetID\u003e\" is done with token \"\u003cToken\u003e\"\n\rThen status code is \u003cUnauthorisedStatusCode\u003e\n\rAnd response body contains param \"\u003cResponseParam\u003e\" with value \"\u003cUnauthorisedErrorTitle\u003e\"\n\r","dataSetDescriptors":[{"startRow":0,"rowCount":0,"name":"","description":""}]},"manual":false,"testSource":"Cucumber","result":"SUCCESS","scenarioOutline":"When a \"\u003cApiVersion\u003e\" request to get tweet \"\u003cTweetID\u003e\" is done with token \"\u003cToken\u003e\"\r\nThen status code is \u003cUnauthorisedStatusCode\u003e\r\nAnd response body contains param \"\u003cResponseParam\u003e\" with value \"\u003cUnauthorisedErrorTitle\u003e\""}